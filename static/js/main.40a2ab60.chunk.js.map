{"version":3,"sources":["components/Dashboard/Dashboard.module.css","components/Dashboard/Controls/Controls.module.css","components/Dashboard/Controls/Controls.js","components/Dashboard/Balance/Balance.js","components/Dashboard/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App.js","index.js","components/Dashboard/Balance/Balance.module.css","components/Dashboard/TransactionHistory/TransactionHistory.module.css"],"names":["module","exports","Controls","handleChange","handleMinus","handlePlus","value","className","css","controls","wrapIntBut","amount","type","name","onChange","placeholder","depositBtn","btn","onClick","withdrawBtn","Balance","balance","income","expenses","balanceSec","role","aria-label","TransactionHistory","transactions","history","head","body","map","elem","key","id","date","Dashboard","state","messages","noMoney","inputNumber","e","target","setState","toast","error","plus","newTransaction","shortid","generate","Date","toLocaleString","hour12","reset","minus","getTransaction","localStorage","getItem","getIncome","getExpenses","getBalance","this","JSON","parse","prevProps","prevState","setItem","stringify","dashboard","autoClose","position","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40a2ab60.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__2k0Rh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__tNYQl\",\"wrapIntBut\":\"Controls_wrapIntBut__l2WIV\",\"amount\":\"Controls_amount__Dyoyk\",\"btn\":\"Controls_btn__3Bhn6\",\"depositBtn\":\"Controls_depositBtn__3Vji3\",\"withdrawBtn\":\"Controls_withdrawBtn__1UXCX\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Controls.module.css';\n\nconst Controls = ({ handleChange, handleMinus, handlePlus, value }) => (\n  <section className={css.controls}>\n    <div className={css.wrapIntBut}>\n      <input\n        className={css.amount}\n        type=\"number\"\n        name=\"amount\"\n        onChange={handleChange}\n        placeholder=\" enter sum ...\"\n        value={value}\n      />\n      <button\n        className={`${css.depositBtn} ${css.btn}`}\n        type=\"button\"\n        name=\"Deposit\"\n        onClick={handlePlus}\n      >\n        Deposit\n      </button>\n      <button\n        className={`${css.withdrawBtn} ${css.btn}`}\n        type=\"button\"\n        name=\"Withdraw\"\n        onClick={handleMinus}\n      >\n        Withdraw\n      </button>\n    </div>\n  </section>\n);\nControls.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  handleMinus: PropTypes.func.isRequired,\n  handlePlus: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => (\n  <section className={css.balanceSec}>\n    <span className={css.income} role=\"img\" aria-label=\"money+\">\n      <span>⬆</span> {income} $\n    </span>\n    <span className={css.expenses} role=\"img\" aria-label=\"money-\">\n      <span>⬇</span>\n      {expenses} $\n    </span>\n    <span className={css.balance}>Balance: {balance} $</span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: PropTypes.number.isRequired,\n  income: PropTypes.number.isRequired,\n  expenses: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions }) => {\n  return (\n    <table className={css.history}>\n      <thead className={css.head}>\n        <tr>\n          <th>Transaction</th>\n          <th>Amount</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody className={css.body}>\n        {/* <tr>\n          <td>Deposit</td>\n          <td>200$</td>\n          <td>4/17/2019, 12:45:17</td>\n        </tr>\n        <tr>\n          <td>Withdrawal</td>\n          <td>100$</td>\n          <td>4/18/2019, 14:15:23</td>\n        </tr> */}\n        {transactions.map(elem => (\n          <tr key={elem.id}>\n            <td>{elem.type}</td>\n            <td>{elem.amount}$</td>\n            <td>{elem.date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.string.isRequired,\n      date: PropTypes.date,\n    }),\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { ToastContainer, toast } from 'react-toastify';\nimport css from './Dashboard.module.css';\nimport Controls from './Controls/Controls';\nimport Balance from './Balance/Balance';\nimport TransactionHistory from './TransactionHistory/TransactionHistory';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class Dashboard extends Component {\n  state = {\n    balance: 0,\n    amount: '',\n    transactions: [],\n    income: 0,\n    expenses: 0,\n  };\n\n  messages = {\n    noMoney: 'На счету недостаточно средств для проведения операции!',\n    inputNumber: 'Введите сумму для проведения операции!',\n  };\n\n  componentDidMount() {\n    const getTransaction = localStorage.getItem('transactions');\n    const getIncome = localStorage.getItem('income');\n    const getExpenses = localStorage.getItem('expenses');\n    const getBalance = localStorage.getItem('balance');\n\n    if (getTransaction) {\n      this.setState({\n        transactions: JSON.parse(getTransaction),\n      });\n    }\n    if (getIncome) {\n      this.setState({\n        income: JSON.parse(getIncome),\n      });\n    }\n    if (getExpenses) {\n      this.setState({\n        expenses: JSON.parse(getExpenses),\n      });\n    }\n    if (getBalance) {\n      this.setState({\n        balance: JSON.parse(getBalance),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { transactions, income, expenses, balance } = this.state;\n\n    if (prevState !== transactions) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n    }\n    if (prevState !== income) {\n      localStorage.setItem('income', JSON.stringify(income));\n    }\n    if (prevState !== expenses) {\n      localStorage.setItem('expenses', JSON.stringify(expenses));\n    }\n    if (prevState !== balance) {\n      localStorage.setItem('balance', JSON.stringify(balance));\n    }\n  }\n\n  handleChange = e => {\n    if (e.target.value === null) {\n      toast.error(this.messages.inputNumber);\n      return;\n    }\n    this.setState({ amount: e.target.value });\n  };\n\n  handlePlus = e => {\n    const { name } = e.target;\n    const { balance, amount } = this.state;\n    if (amount === '' || amount === '') {\n      toast.error(this.messages.inputNumber);\n      return;\n    }\n    if (amount > '0') {\n      this.setState(state => ({ income: state.income + +amount }));\n\n      const plus = balance + +amount;\n      this.setState({ balance: plus });\n\n      const newTransaction = {\n        id: shortid.generate(),\n        type: name,\n        amount,\n        date: new Date().toLocaleString('en-US', { hour12: false }),\n      };\n      this.setState(state => ({\n        transactions: [...state.transactions, newTransaction],\n      }));\n    }\n    this.reset();\n  };\n\n  handleMinus = e => {\n    const { name } = e.target;\n    const { balance, amount } = this.state;\n    if (balance < +amount) {\n      toast.error(this.messages.noMoney);\n      return;\n    }\n\n    if (amount === null || amount === '') {\n      toast.error(this.messages.inputNumber);\n      return;\n    }\n    if (amount > 0) {\n      this.setState(state => ({ expenses: state.expenses + +amount }));\n\n      const minus = balance - +amount;\n      this.setState({ balance: minus });\n\n      const newTransaction = {\n        id: shortid.generate(),\n        type: name,\n        amount,\n        date: new Date().toLocaleString('en-US', { hour12: false }),\n      };\n      this.setState(state => ({\n        transactions: [...state.transactions, newTransaction],\n      }));\n    }\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ amount: '' });\n  };\n\n  render() {\n    const { transactions, balance, income, expenses, amount } = this.state;\n    return (\n      <div className={css.dashboard}>\n        <Controls\n          handleChange={this.handleChange}\n          value={amount}\n          handlePlus={this.handlePlus}\n          handleMinus={this.handleMinus}\n        />\n        <hr />\n        <Balance balance={balance} income={income} expenses={expenses} />\n        <hr />\n        <TransactionHistory transactions={transactions} />\n        <ToastContainer autoClose={2500} position=\"bottom-right\" />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Dashboard from './Dashboard/Dashboard';\n\nconst App = () => {\n  return (\n    <>\n      <Dashboard />\n    </>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balanceSec\":\"Balance_balanceSec__2ynVI\",\"income\":\"Balance_income__1afcP\",\"expenses\":\"Balance_expenses__gNz5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__2_0Qb\"};"],"sourceRoot":""}